\chapter{Estado de la Cuestión}
\label{cap:estadoDeLaCuestion}

Introducción de lo que voy a hablar en el estado de la cuestión y por qué

\section{Demencia}
La demencia \footnote{https://www.alz.org/alzheimer-demencia/que-es-la-demencia?lang=es-MX} es una condición neurodegenerativa progresiva, caracterizada por un deterioro cognitivo que interfiere con la vida cotidiana afectando a la memoria, al pensamiento, al lenguaje, al juicio y al comportamiento. La demencia no es una enfermedad específica aunque la mayor parte de los casos de demencia son provocados por la enfermedad de Alzheimer. Muchas veces se confunde la demencia con una consecuencia más del envejecimiento, cuando no tiene por qué ser así.

Hay muchos síntomas asociados a la demencia pero, en este trabajo, nos vamos a centrar en la pérdida de memoria. Trabajar los recuerdos de una persona que sufre demencia ayuda a retrasar los efectos de la misma. Hablaremos para ello de la terapia ocupacional basada en reminiscencia.

\section{Terapia ocupacional basada en reminiscencia}
La terapia ocupacional \footnote{https://aptoca.org/terapia-ocupacional/que-es-la-terapia-ocupacional-2/} se centra en que el paciente sea capaz de participar en las actividades de la vida cotidiana. Es decir, se basa en ayudar al individuo a llevar una vida lo más normal posible adaptando las tareas cotidianas a realizar o el entorno para que pueda llevarlas a cabo.

(Sacar información del seminario cantor)
La terapia ocupacional basada en reminiscencia se centra en mejorar la calidad de vida de la persona con demencia. Se trata de una técnica basada en la recuperación de recuerdos dentro de un periodo de tiempo en la vida de la persona con el objetivo de construir la historia de vida del sujeto. La historia de vida surge de la sucesión de acontecimientos que componen la totalidad de la vivencia del sujeto.


%\section{TFGs 2021}
\section{Trabajo previo}
Herramienta de ayuda guiada para la reminiscencia \citep{reminiscencia} : Generación de historias a partir de una base de conocimiento: recomendación de temas a tratar en la terapia + aplicación web que enlaza situaciones y vivencias mediante grafos y luego permite añadir recursos fotográficos asociado a un tema. (Más como un chatbot que va sugiriendo temas a tratar)

Sistema de asistencia para cuidados de enfermos del Alzheimer \citep{asistencia} : Página que guarda información sobre pacientes y terapeutas asociados. Información relevante + historia de vida formada por instancias de recuerdos

Extracción de preguntas a partir de imágenes para personas con problemas de memoria mediante técnicas de Deep Learning \citep{preguntas} : chat desplegado con telegram. De las fotos que tiene archivadas va preguntando al usuario cosas relacionadas con la imagen

Generación de resúmenes de video-entrevistas utilizando redes neuronales \citep{resumen} : transcripción de video-entrevistas a texto

Extracción de información personal a partir de redes sociales para la creación de un libro de vida \citep{rrss}

Alameda Salas, María Cristina (2022) Generación de historias de vida usando técnicas de Deep Learning.

Barquilla Blanco, Cristina y Díez García, Patricia y Mulas López, Santiago Marco y Verdú Rodríguez, Eva (2022) Recuérdame: Aplicación de apoyo para el tratamiento de personas con problema de memoria mediante terapias basadas en reminiscencia. 

García González, Hugo (2022) Extracción de recuerdos de vídeos de entrevistas con personas con problemas de memoria. 

\section{Procesamiento del lenguaje natural}

El Procesamiento del Lenguaje Natural \footnote{https://www.iic.uam.es/inteligencia/que-es-procesamiento-del-lenguaje-natural/} es un campo de la Inteligencia Artificial que estudia las interacciones entre personas y máquinas mediante el uso del lenguaje natural, es decir, investiga cómo pueden comunicarse las computadoras y los humanos de forma eficiente. El PLN es un campo que se ha estado desarrollando durante los últimos 50 años y que, aunque tuvo poco éxito en un principio, en la actualidad, se emplea en muchos ámbitos. Es por intereses económicos y prácticos que los desarrollos en este área de conocimiento se hayan realizado para las lenguas más habladas como el inglés, alemán, español y chino. No obstante, existen muchas herramientas muy potentes que trabajan muchos idiomas como por ejemplo, el traductor de Google. El desarrollo de técnicas de procesamiento de lenguaje natural es vital también para el funcionamiento de los chatbots (tema en el que está centrado este TFG) como podrían ser los tan reconocibles Siri de Apple y Alexa de Amazon. Es importante tener en cuenta que se avanza mucho más en el lenguaje por escrito ya que hay muchos más datos y es más fácil de guardar en formato electrónico.


\subsection{Modelos para el PLN}

Para que las máquinas puedan tratar el lenguaje natural es necesario describirlo en términos matemáticos porque los ordenadores solo entienden de bytes. Existen dos formas de modelar el lenguaje:

\begin{enumerate}
	\item Modelo gramatical: Esta formado por reglas de reconocimiento de patrones estructurales relacionados con la fonética, la morfología, la semántica, la sintaxis etc. Estas reglas las definen expertos lingüistas y son las que permiten a las máquinas reconocer lo que solicita la persona.
	\item Modelo probabilístico: Se aplican técnicas matemáticas para extraer el conocimiento. En vez de usar reglas gramaticales, se recoge una gran cantidad de ejemplos y datos para calcular la frecuencia de aparición de las diferentes unidades lingüísticas (letras, palabras, oraciones) y su probabilidad de aparecer en un contexto determinado. Con estas probabilidades se puede predecir mucha información. Este modelo es lo que se denomina aprendizaje automático.
\end{enumerate}

\subsection{Componentes del PLN}

Existen varios tipos de análisis para extraer información del lenguaje natural y sus usos dependerán del objetivo de la aplicación:

\begin{itemize}
	\item Análisis morfológico: Se analiza la estructura interna de las palabras para clasificarlas en categorías (sustantivos, verbos, adjetivos, etc.) y extraer los lemas 
	
	\item Análisis sintáctico: Consiste en estudiar la estructura sintáctica de las oraciones a partir de una gramática de la lengua en cuestión.
	
	\item Análisis semántico: Se utiliza para extraer el significado de las oraciones.
	
	\item Análisis pragmático: Añade al análisis el contexto de uso del lenguaje para mejorar la interpretación.
\end{itemize}



\subsection{Aplicaciones del procesamiento del lenguaje natural}

\footnote{https://www.iic.uam.es/procesamiento-del-lenguaje-natural/aplicaciones-procesamiento-lenguaje-natural/}
Algunas son:

\begin{enumerate}
	\item \textbf{Traducción automática de textos}: A día de hoy el nivel de traducción es bastante razonable. Existe la posibilidad de traducir textos largos a distintos idiomas. Es más, existen algunos navegadores que traducen automáticamente páginas web de un idioma a otro como por ejemplo ``Google Chrome''. Las traducciones suelen ser más fiables para ciertas parejas de idiomas. El inglés suele ser uno de los idiomas más desarrollados en este campo por ser de los más usados en el mundo. Por otro lado, aun no está muy conseguida la traducción de documentos complejos o de aquellos con muchos matices, ni siquiera de un idioma principal a otro. Para dichos textos seguirá siendo necesaria la intervención de un humano.
	\item \textbf{Sistemas conversacionales con PLN}: Son tecnologías de tipo Chatbot como Siri de Apple o el Asistente de Google. Son aplicaciones que entablan pequeñas conversaciones con el usuario y resuelven sus dudas, aunque a veces no con mucho éxito todavía. Se ampliará la información más adelante en este capítulo.
	\item \textbf{Respuestas automáticas a preguntas}: El primero que se hizo famoso fue el sistema Watson, desarrollado por IBM. Ganó algunos concursos televisivos contra humanos por su capacidad de responder todo tipo de preguntas gracias al amplio conocimiento que almacena en su base de datos.
	\item \textbf{Análisis de sentimiento}: Se trata de analizar opiniones sobre personas, productos y temas varios. Su uso más destacable es en el ámbito de las redes sociales para analizar cómo interactúan los usuarios. Se ampliará la información más adelante en este capítulo.
	\item \textbf{Resúmenes de textos automáticos}: A día de hoy existe muchísima  información en Internet y muchos textos quedan sin leer por falta de tiempo. Los resúmenes automáticos ayudan a determinar si un texto merece ser leído al completo. 
	\item \textbf{Clasificación de documentos por categorías}: Ayuda a dirigir la información contenida en dichos documentos a los usuarios interesados, ahorrando tiempo. 
\end{enumerate}

\subsection{Ventajas del PLN}

\begin{itemize}
	\item El ahorro de tiempo en trabajos que antes se realizaban a mano.
	\item Ahorro de costes con procesos automáticas en vez de acudir a profesional.
	\item Agiliza el etiquetado manual de documentos.
	\item Ayuda a tomar decisiones de negocio. Por ejemplo: el análisis automático de redes sociales permite detectar una posible crisis de reputación con rapidez y atajarla con mayor brevedad.
	\item Facilita el turismo con las traducciones entre idiomas y mejora la comunicación entre personas de distintas culturas.
\end{itemize}


\subsection{Chatbots}

Un Chatbot o asistente virtual inteligente \footnote{https://www.iic.uam.es/procesamiento-del-lenguaje-natural/como-crear-chatbot-con-machine-learning-y-pln} es un programa informático capaz de mantener una conversación real con un usuario en lenguaje natural. Dan respuesta a dudas y tareas planteadas por los internautas. Para desarrollar un Chatbot se suele usar Procesamiento del Lenguaje Natural (PLN) y ``Machine Learning''.  Algunos ejemplos de asistentes virtuales serían los que recomiendan viajes y lugares turísticos, para la compra de billetes de avión, para aprender idiomas y mejorar las habilidades lingüísticas, gestiones en banca, para consultar dudas sobre contratos de telefonía móvil, etc.

Muchas empresas disponen de un Chatbot para atender a sus clientes y resolver las dudas más frecuentes. Así, de paso, ahorran costes y dejan las preguntas más difíciles para los ''call centres'' o los chats con agentes humanos. Se consigue  contratar a menos agentes, ya que muchas de las preguntas que realizan los usuarios son repetitivas y pueden ser respondidas por los bots. Son capaces de interpretar lo que el usuario pide a través del texto que introduce o lo que dice y de mantener una conversación y dar respuestas concretas. 

\subsubsection{Tipos}

Existen distintos tipos de Chatbots según la finalidad que tengan:
\begin{itemize}
	\item Aquellos que resuelven temas concretos relativamente complejos dentro de una misma temática de una empresa en particular como, por ejemplo, la compra de billetes de tren, la compra de entradas, resolver dudas sobre contrato y ofertas de telefonía móvil (ejemplo: asistente del operador Orange), etc.
	
	\item Algunos de ellos se han desarrollado para contestar por WhatsApp, lo que los hace más fáciles e intuitivos de usar para el usuario.
	
	\item Otros se han diseñado para escuchar al usuario en conversaciones cortas como el Siri de Apple que interpreta lo que pide el usuario y resuelve dudas como qué tiempo va a hacer, quién ha ganado un partido de fútbol o ponen canciones.
	
	\item Finalmente existen otros aún más complejos que mantienen conversaciones con los usuarios como si fueran personas con sentimientos, empatía, conocimiento, etc.
\end{itemize}

Todos estos asistentes virtuales necesitan entender el lenguaje natural para recibir las peticiones por un lado y por otro ser capaces de generar lenguaje natural para contestar. 


\section{Desarrollo}

Existen varias herramientas disponibles en la web de empresas reconocidas que ayudan a crearlos. Ejemplo son Language Understanding (LUIS) de Microsoft, Google Dialogflow o Watson Assistant de IBM.

Plataformas:
https://www.lancetalent.com/blog/mejores-herramientas-crear-chatbots-negocio-mh/ 
https://www.mdirector.com/blog/las-7-mejores-plataformas-para-crear-tu-propio-chatbot-personalizado/
Hubspot (Básico)
Landbot (Básico)
Zendesk (Básico)
Chatfuel (Avanzado)
Dialogflow (Avanzado)
Python (Muy avanzado)


Chatterbot, AIML, 

https://zyxme.com/blog/5-casos-de-los-chatbots-mas-innovadores-del-2021/

Dichas herramientas ayudan a crear el agente virtual para extraer los datos de las conversaciones, buscar en bases de datos, dar respuestas y entrenar al agente para que cada vez funcione mejor.

Con entrenar al agente nos referimos a que detecte la petición del usuario en el texto que introduce o dice. Para ello, proporcionaremos a la herramienta ejemplos de oraciones que los clientes pueden introducir. Cuando el usuario real introduzca una frase con una petición similar, el agente será capaz de deducir lo que pide.

Para algunas de las peticiones, el Chatbot dará una respuesta inmediata y directa, contestando, por ejemplo, al horario de una tienda física.

En otros casos el agente requerirá más información al usuario y planteará una pregunta al mismo para recabar dicha información. Por ejemplo, le puede pedir el tipo de producto demandado.

Se suele hablar de “intención” para saber lo que el usuario quiere, y para ello se entrena a la herramienta.

Se habla de “entidades” para indicar los distintos valores de producto demandado por el usuario (ejemplo, tipo de fruta en una frutería). Para ello, será necesaria una base de datos con los distintos valores que puede tomar el producto (pera, manzana, naranja, etc).

Se suele hablar de “flujo de diálogo” para indicar lo que va guiando el mismo, en función de los datos que introduce el cliente y de la intención y entidades que se descubran en función de dichos inputs del usuario.

A cada intención detectada se le asigna un nivel de confianza en función de la probabilidad de que se haya detectado correctamente la petición concreta del usuario. Si la probabilidad calculada es baja se le hará otra pregunta al usuario para mejorar dicha confianza.

Se definen unos umbrales de confianza para pasar a la siguiente fase o pregunta (fruta concreta demandada, por ejemplo). El objetivo es un dar respuestas incorrectas al usuario, contestando algo que no pide. 

Se debe entrenar mucho al asistente para llegar a un nivel de confianza óptimo (80\%, por ejemplo) y que dicho asistente sea eficaz y útil al cliente.

Cuando el umbral de confianza sea bajo, se le pedirá más información al usuario indicando, por ejemplo, “no te he entendido, ¿puedes repetir la pregunta?”. Se trata de intentar que el usuario formule la petición de otro modo que sea más comprehensible para el Chatbot.
Durante la interacción con el usuario en dicho flujo de diálogo pueden ser necesarias varias preguntas como por ejemplo tipo de fruta, cuántos kilos, si necesita bolsa, etc. A veces, se hace un resumen del pedido al final, para que el cliente confirme que toda la información es correcta. 

Muchas veces los chatbots incluyen una pequeña encuesta al final para saber si el usuario ha quedado satisfecho. Si no ha quedado contento se le pide información y esto ayudará a los desarrolladores a mejorar dicho asistente.


--------------------------- Meter herramientas de creacion de chatbots

\subsection{Análisis de sentimiento}

El análisis de sentimiento \footnote{https://gaeapeople.com/marketing-estrategia/sentiment-analysis} es un método para identificar las emociones que se esconden tras un mensaje concreto y forma parte del procesamiento de lenguaje natural (PLN). Consiste en analizar las frases para extraer de ellas las opiniones o sentimientos acerca de un tema o producto.

Con este análisis \footnote{https://blog.pangeanic.es/funcionamiento-herramientas-analisis-sentimiento-basadas-en-inteligencia-artificial} se pretende determinar quién es el sujeto del sentimiento, sobre qué o quién tiene ese sentimiento y categorizar esos sentimientos como positivos, negativos o neutros.

Tras realizar el análisis del sentimiento se puede averiguar qué se esconde detrás de información subjetiva.

Una de las muchas aplicaciones de esta tecnología está enfocada al marketing, de forma que permite a las empresas averiguar qué es lo que quieren sus consumidores mediante el escrutinio de opiniones en redes sociales u otros medios.

Estos sistemas tienen limitaciones, ya que no pueden detectar toda la complejidad del lenguaje humano. Se encuentran problemas a la hora de comprender el contexto en el que se encuentra un texto o para entender la ironía o el sarcasmo.

Algunas herramientas conocidas para el análisis del sentimiento son:
\begin{itemize}
	\item Lingmotif \footnote{https://ltl.uma.es} $\rightarrow$ Se trata de una herramienta de análisis de sentimiento desarrollada por la universidad de Málaga. Permite obtener valores precisos de las opiniones y sentimientos dentro de un texto.
	\item Opinion Finder \footnote{https://mpqa.cs.pitt.edu/opinionfinder/} $\rightarrow$ Sistema desarrollado por investigadores de la Universidad de Pittsburgh, Cornell y Utah. Permite identificar la subjetividad de frases y varios aspectos de la subjetividad dentro de las propias frases mediante el procesamiento de documentos. Funciona en Inglés.
	\item LIWC \footnote{https://www.liwc.app} $\rightarrow$ ``Linguistic Inquiry and Word Count'' es un programa capaz de analizar textos para calcular el uso que hacen las personas de distintas categorías de palabras. Permite saber si los emisores transmiten un mensaje con palabras positivas o negativas entre otras muchas opciones.
\end{itemize}


